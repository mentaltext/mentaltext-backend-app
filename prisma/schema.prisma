// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  phoneNumber         String          @id
  name                String
  profilePhoto        String
  language            String
  phoneCode           String
  temporaryCode       String
  userProfile         UserProfile?
  userSettings        UserSettings?
  createdAt           DateTime        @default(now())
  updatedAt           DateTime        @updatedAt
}

model UserProfile {
  phoneNumber         String      @id @unique
  bio                 String
  lastSeen            DateTime
  status              UserStatus
  user                User        @relation(fields: [phoneNumber], references: [phoneNumber])
}

model UserSettings {
  userId              String      @id
  notificationsEnabled Boolean
  user                User        @relation(fields: [userId], references: [phoneNumber])
}

enum UserStatus {
  ACTIVE
  INACTIVE
}
